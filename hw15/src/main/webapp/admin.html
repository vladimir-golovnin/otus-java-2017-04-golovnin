<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Тег SCRIPT</title>
    <script>
        var ws = new WebSocket("ws://localhost:8080/socket");

ws.onopen = function(){
    document.getElementById("welcome").innerHTML = "<h1>Open</h1>";
};

ws.onmessage = function (evt){
    var message = JSON.parse(evt.data);
    var messageType = message.type;
    var content = message.content;

    switch(messageType){
        case 0:
           document.getElementById("pageContent").innerHTML = "<h1>Service is inaccessible!</h1>";
           break;

        case 1:
          if(content == null) {
           document.getElementById("message").innerHTML = "No such user";
          }
          else{
            document.getElementById("message").innerHTML = content.name;
          }
          break;
    }

};

ws.onclose = function(evt){
    document.getElementById("pageContent").innerHTML = "<h1>Connection to server is lost!</h1>";
};
ws.onerror = function(error){
    document.getElementById("welcome").innerHTML = "<h1>Error</h1>";
}
    </script>
</head>
<body>
<div id="welcome"></div>
</body>
</html>
